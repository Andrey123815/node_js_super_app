# NodeJS Super App

### Описание проекта:

1) Реализованы микросервисы чата и истории чата на основе брокера сообщений RabbitMQ и протокола AMQP
<img src="https://github.com/Andrey123815/node_js_super_app/blob/main/assets/readme_1.png">
- Применялся развлетвляющий коммутатор, две эксклюзивных очереди для чатов и одна надежная очередь для истории чата
<br />
- Обеспечена отказоустойчивость: при отказе сервиса истории (или его временном отключении) сервис чата работает, при подключении сервиса истории все отправленные в период отключения сообщения подгружаются в историю
<br />
2) С помощью кастомного shell-скрипта реализована возможность поднять необходимое количество инстансов главного сервера
<br />
3) С помощью библиотеки cluster произведена кластеризация основного процесса главного сервера на express, обеспечена высокая производительность засчет создания дочерних процессов по количеству ядер процессора
<img src="https://github.com/Andrey123815/node_js_super_app/blob/main/assets/readme_2.png">
4) Реализован алгоритм безотказной работы сервера: Master-процесс отслеживает состояние дочерних, в случае завершения с ошибкой - перезапуск (написан скрипт на эмуляцию ошибок дочерних процессов, произведена проверка алгоритма)
<br />
5) Реализован алгоритм мягкой перезагрузки сервера: в случае получения сигнала перезагрузки Master-процесс начинает последовательно останавливать и создавать новых воркеров
<br />
6) Сервис удаленного журналирования через механизм мультиплексирование-демультиплексирование (MUX-DEMUX) потоков (Streams) через самописный протокол межсерверного взаимодействия
<img src="https://github.com/Andrey123815/node_js_super_app/blob/main/assets/readme_3.png">
7) Настроен Nginx со схемой редиректов на основные сервера и на сервера микросервисов, реализована балансировка между основными серверами (nginx.conf)
<br />
8) Отказоустойчивость мастер процесса с использованием супервизора forever
<br />
9) Написан модуль highload.js, в котором производится нагрузочное тестирование через утилиту siege
<br />
10) Организованы сложные вычисления в отдельном потоке при помощи модуля worker_threads с использованием crypto-streams
<br />
11) Проведены замеры performance
<br />
